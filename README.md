# 人脸识别系统（基于 ArcFace + OpenCV + Qt）

## 📌 项目概述

本项目是一个基于 **C++** 开发的实时人脸识别系统，使用 **ArcFace SDK** 进行人脸检测与特征提取，**OpenCV** 处理图像采集与绘制，**多线程编程** 实现视频流与人脸识别的并行处理，具备高效、准确的识别能力。

## ✨ 功能特点

- ✅ 实时人脸检测与识别
- ✅ 多人脸同时识别
- ✅ 特征向量存储，减少存储开销
- ✅ 多线程处理，保证视频流畅性与识别准确性
- ✅ 支持未知人脸标记（Unknown）
- ✅ 可视化识别结果（矩形框 + 标签）

## 🛠 技术栈

- **编程语言**: C++
- **图像处理**: OpenCV
- **人脸识别**: ArcFace SDK
- **多线程**: C++11 Thread, Mutex
- **视频采集**: OpenCV VideoCapture
- **数据存储**: 二进制文件存储特征向量

## 📁 项目结构

```
FaceRecognitionSystem/
├── main.cpp              # 程序入口，激活SDK并启动系统
├── DetectSystem.h/cpp    # 系统控制逻辑与菜单交互
├── FaceEngine.h/cpp      # 人脸识别引擎（特征提取、比对、识别）
├── Camera.h/cpp          # 摄像头管理与画面绘制
├── facedata/             # 存储已知人脸特征数据（.face 文件）
├── README.md             # 项目说明文档
```

## 🔧 环境配置

### 依赖库

- OpenCV 4.x
- ArcFace SDK（需自行申请并配置）
- C++17 或更高版本

### 编译说明

建议使用 **CMake** 或 **Visual Studio** 进行编译，确保链接以下库：

- `opencv_world`
- `arcsoft_face_sdk`
- 多线程支持（`pthread` on Linux / `MSVC` on Windows）

## 🚀 运行流程

1. 激活 ArcFace SDK（需合法授权）
2. 启动主程序，显示菜单选项
3. 选择“人脸检测”进入识别模式
4. 摄像头开启，实时识别并显示结果
5. 按 `Q` 退出识别模式

## 📸 效果演示

> 可附上运行截图或录制演示视频（建议）

## 📝 注意事项

- 需自行申请并配置 ArcFace SDK 的 `APP_ID` 和 `SDK_KEY`
- 人脸特征数据存储在 `facedata/` 目录下，格式为二进制 `.face` 文件
- 系统默认使用摄像头索引为 `0`，可根据需要修改

## 🧠 核心算法说明

- 使用 **ArcFace** 提取人脸特征向量
- 使用 **欧氏距离** 进行特征比对
- 使用 **多线程** 分离图像采集与识别任务
- 使用 **生产者-消费者模型** 处理图像帧与识别结果

## 📄 许可证

本项目仅用于学习和演示目的，请遵守 ArcFace SDK 的相关使用协议。
